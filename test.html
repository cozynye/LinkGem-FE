<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <form action="https://www.sandbox.paypal.com/cgi-bin/webscr" method="post">
      <input type="hidden" name="cmd" value="_xclick" />
      <input type="hidden" name="business" value="seller001@test.com" />
      상품명:<input type="text" name="item_name" value="Content Name" />
      상품코드:<input type="text" name="item_number" value="001" /> 통화:<input
        type="text"
        name="item_code"
        value="USD"
      />
      가격:<input typD="text" name="amount" value="1000" />
      <input type="hidden" name="custom" value="회원번호c" />
      <input type="hidden" name="charset" value="UTF-8" />
      <input
        type="image"
        name="submit"
        src="https://www.paypalobjects.com/en_US/i/btn/btn_buynow_LG.gif"
      />
    </form>
    <script>
      function solution(new_id) {
        var id = '';
        if (new_id === '') {
          new_id = 'a';
        }
        console.log('id1');
        console.log(id);

        var reg = /[`~=!@#$%^&*()_|+\-=?;:'",<>\{\}\[\]\\\/ ]/gim;

        id = new_id.toLowerCase();
        console.log('id2');
        console.log(id);

        id = id.replace(reg, '');
        id = dot(id);

        if (id.charAt(0) === '.') {
          id = id.slice(1);
        }

        if (id.charAt(id.length - 1) === '.') {
          id = id.slice(0, -1);
        }

        if (id.length >= 16) {
          id = id.slice(0, 15);
        }
        if (id.charAt(id.length - 1) === '.') {
          console.log('');
          id = id.slice(0, -1);
        }
        if (id.length <= 2) {
          console.log('길이');
          console.log(id);
          console.log(id.charAt(0));
          id = id + id.charAt(id.length - 1);
          if (id.length == 2) {
            id = id + id.charAt(id.length - 1);
          }
        }
        console.log('[removeData] : ' + id);
        return id;
      }

      function dot(id) {
        if (id.includes('..')) {
          return dot(id.replace('..', '.'));
        }
        return id;
      }
      //   console.log(solution('...!-_@BaT#*..y.abcdefghijklM.'));
      //   console.log(solution('aaaaaaaaaaaaaaabb'));
      console.log(solution('=.='));
    </script>
  </body>
</html>
